{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 500,
  "height": 500,
  "title": "Import/Export for Fuel Types Australia 2001-2023",
  "data": {
    "url": "https://raw.githubusercontent.com/akshiita-01/3179/refs/heads/main/importexport.csv",
    "format": {"type": "csv"}
  },
  "transform": [
    {
      "calculate": "datum.FlowType === 'Import' ? -datum['Value (PJ)'] : datum['Value (PJ)']",
      "as": "AdjustedValue"
    }
  ],
  "params": [
    {
      "name": "FlowFilternew",
      "value": "All",
      "bind": {
        "input": "select",
        "options" : [
          "All",
          "Import",
          "Export"
        ]
      }
    }
  ],
  "transform":[
    {
      "filter": "FlowFilternew == 'All' || datum.FlowType == FlowFilternew"
    }
  ],
  
  "encoding": {
    "x": {
      "field": "Year",
      "type": "ordinal",
      "axis": { "title": "Year" }
    },
    "y": {
      "field": "Scaled Log Transformation:",
      "type": "quantitative",
      "axis": { "title": "Scaled Value (PJ)", "grid": false },
      "scale": { "domain": [0, 225] }  
    },
    "color": { "field": "FuelType", "type": "nominal" },
    "opacity": { "field": "FlowType", "type": "nominal" }
  },
  "layer": [
    {
      "mark": {
        "type": "area",
        "interpolate": "monotone",
        "line": true,
        "point": true,
        "opacity": 0.8
      },
      "encoding": {
        "y": { "field": "Scaled Log Transformation:", "aggregate": "sum" },
        "color": { "field": "FuelType" },
        "tooltip": [
          { "field": "Year", "type": "nominal" },
          { "field": "FuelType", "type": "nominal", "title": "Fuel Type" },
          { "field": "FlowType", "type": "nominal", "title": "Import/Export" },
          { "field": "Value (PJ)", "type": "nominal", "title": "Actual Value (PJ)" },
          { "field": "Scaled Log Transformation:", "type": "quantitative", "title": "Scaled Value" }

        ]
      }
    }
  ]
}
